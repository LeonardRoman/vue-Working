@inherits System.Web.Mvc.WebViewPage
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>редактирование </title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <div id="app">
        <table border="1">

            <tr>
                <td>Freight</td>
                <td>
                    <input type="number" v-model="order.Freight" />
                </td>
            </tr>
            <tr>
                <td>ShipCountry</td>
                <td>
                    <input type="text" v-model="order.ShipCountry" />
                </td>
            </tr>
            <tr>
                <td>ShipCity</td>
                <td>
                    <input type="text" v-model="order.ShipCity" />
                </td>
            </tr>
            <tr>
                <td>ShipAddress</td>
                <td>
                    <input type="text" v-model="order.ShipAddress" />
                </td>
            </tr>
        </table>
    </div>

    <script>

        new Vue({
            el: "#app",
            data: {
                 id=
                order: {
                    OrderID: 0,
                    CustomerID: "",
                    EmployeeID: 0,
                    OrderDate: "",
                    RequiredDate: "",
                    ShippedDate: "",
                    ShipVia: 0,
                    Freight: 0,
                    ShipName: "0",
                    ShipAddress: "",
                    ShipCity: "",
                    ShipRegion: null,
                    ShipPostalCode: "",
                    ShipCountry: ""
            },
              
                methods: {
                    //читаем объект
                    fetchOrder() {
                        var path = "../Orders/GetById?key=" + this.id;
                        this.fetchJson(path, json => this.order = json);
                    },
                    //обертка над стандартной функцией fetch
                    fetchJson(path, collback) {
                        try {
                            (path, { mode: 'cors' })
                                .then(response => response.json())
                                .then(function (json) { collback(json); }
                                );
                        } catch (ex) {
                            alert(ex);
                        }
                    }
                },
                mounted: function () {
                    this.fetchOrder();
                }
            }
        });
    </script>
</body>
</html>
